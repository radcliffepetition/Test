<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Review</title>

    <style>
        body { background:#111; color:white; font-family:Arial; padding:20px; }
        h1 { text-align:center; }

        .answer-block {
            background:#222;
            padding:15px;
            border-radius:10px;
            margin-bottom:12px;
        }

        button {
            padding:12px 18px;
            font-size:1rem;
            border:none;
            border-radius:10px;
            cursor:pointer;
            margin-right:10px;
        }

        .approve { background:#28a745; color:white; }
        .deny { background:#c0392b; color:white; }
    </style>
</head>
<body>

<h1>Pending Quiz Submission</h1>

<div id="submission"></div>

<script>
const submissionData = JSON.parse(localStorage.getItem("latestQuizSubmission")) || [];
const container = document.getElementById("submission");

if (submissionData.length === 0) {
    container.innerHTML = "<p>No submissions available.</p>";
} else {

    submissionData.forEach((entry, index) => {
        const div = document.createElement("div");
        div.className = "answer-block";
        div.innerHTML = `<strong>Q${index+1}: ${entry.question}</strong><br>Answer: ${entry.answer}`;
        container.appendChild(div);
    });

    const approveBtn = document.createElement("button");
    approveBtn.className = "approve";
    approveBtn.textContent = "Approve";
    approveBtn.onclick = () => {
        document.cookie = "quizApproved=true; path=/; max-age=31536000";
        localStorage.removeItem("latestQuizSubmission");
        alert("Approved. Cookie set.");
        container.innerHTML = "<p>Submission approved.</p>";
    };
    container.appendChild(approveBtn);

    const denyBtn = document.createElement("button");
    denyBtn.className = "deny";
    denyBtn.textContent = "Deny";
    denyBtn.onclick = () => {
        localStorage.removeItem("latestQuizSubmission");
        alert("Denied. Submission cleared.");
        container.innerHTML = "<p>Submission denied.</p>";
    };
    container.appendChild(denyBtn);
}
</script>

</body>
</html>
